---
description: "Session management, automated triggers, context loading, and prompt management system"
alwaysApply: true
---

# Session Management - Automated System

## Session Management - AUTOMATED SYSTEM
- **AUTO-TRIGGER**: Every session start → Check session-continuity/02-SESSION-PLAN.md exists
- **If NO PLAN**: Offer to create via AI interview with date validation
- **If PLAN EXISTS**: Load and focus on current phase (SESSION LENS: 4-6 items max)
- **NEW AI COLLABORATORS**: Use session-continuity/05-SESSION-ENTRANCE-PROMPT.md for complete context
- **COMPLETION DETECTION**: Auto-check 02-SESSION-PLAN.md when tasks complete
- **DEVIATION MONITORING**: Auto-document when approach changes (with date validation)
- **SESSION END**: Auto-archive to SESSION-PLAN-ARCHIVE/ and update snapshots

## Auto-Checkbox Triggers (Session Lens Scope Only)
```
"That's complete" → Check off related item in current session focus
"We've finished X" → Check off X (if in active 4-6 items)
"Done with Y" → Check off Y (session lens scope only)
"Successfully implemented" → Mark implementation complete
```

## Deviation Detection Phrases
```
"Actually, let's..." → DEVIATION DETECTED → Auto-document with date validation
"Change of plan..." → DEVIATION DETECTED → Update 02-SESSION-PLAN.md deviations
"Better approach..." → DEVIATION DETECTED → Cascade update to tracking docs
```

## Session End Indicators
```
"Let's wrap up" → Auto-archive current plan → Update 03-CURRENT-STATE-SNAPSHOT.md
"Session complete" → Validate timestamps → Prepare for next session
```

## Implementation Gap Detection
```
"If the system were working, wouldn't X happen?" → IMPLEMENTATION GAP DETECTED
"Did you just do X because I asked, or is that automatic?" → IMPLEMENTATION GAP DETECTED
"I don't see Y having been updated" → IMPLEMENTATION GAP DETECTED

**AUTO-RESPONSE:**
1. Acknowledge the gap between design and implementation
2. Update 02-SESSION-PLAN.md with new deviation
3. Add corrective phase to plan if needed
4. Update all relevant cursor rules and documentation
5. Test whether the fix actually works automatically
```

## Session Prompt Management - HISTORICAL TRACKING SYSTEM
**CRITICAL**: Session prompts are now organized with historical tracking and reusable templates.

### Auto-Prompt Structure Awareness
```
**PRIMARY LOCATION**: session-continuity/prompts/ folder
**NAVIGATION FILE**: session-continuity/prompts/index.md (AI navigation guide)
**NAMING CONVENTION**: YYYY-MM-DD-session-NN-description.md (newest first)
**TEMPLATES FOLDER**: session-continuity/prompts/templates/ (reusable patterns)
**METADATA**: Each prompt has YAML frontmatter with session_id, date, type, tags, status
```

### Session Prompt Usage Protocol
```
**FOR NEW SESSIONS**:
1. Always check prompts/index.md first for latest prompts
2. Use most recent session prompt that matches current context
3. Fall back to templates/ for general patterns
4. When creating new prompts, follow naming: YYYY-MM-DD-session-NN-description.md

**PROMPT SELECTION GUIDE**:
- **Urgent Issues**: Use latest deployment/troubleshooting prompt
- **New Features**: Use session management or foundation prompts  
- **Complex Problems**: Use templates/problem-solving.md
- **Timeline Pressure**: Use templates/timeline-reality-check.md
- **Implementation Gaps**: Use templates/implementation-gap-detection.md
```

## Session Context Awareness - COMPREHENSIVE LOADING
**CRITICAL**: Every new session MUST check these documents in order for complete context:

### Primary Context Documents (Check at session start)
1. **01-PROJECT-REQUIREMENTS.md** - Project scope, objectives, and success criteria
2. **02-SESSION-PLAN.md** - Current goals and active tasks (SESSION LENS: 4-6 items)
3. **03-CURRENT-STATE-SNAPSHOT.md** - Latest project status and achievements
4. **04-README-FOR-FUTURE-AI.md** - Comprehensive AI collaboration context
5. **05-SESSION-ENTRANCE-PROMPT.md** - Complete entrance protocol
6. **09-CONVERSATIONAL-INSIGHTS.md** - Communication and working preferences

### Session Loading Protocol
```
NEW SESSION DETECTED → 
1. Load PRIMARY CONTEXT DOCUMENTS (above list)
2. If 01-PROJECT-REQUIREMENTS.md exists → This is the master context document, prioritize it
3. If session-continuity/02-SESSION-PLAN.md exists → Focus on current active items only
4. If no key context → Offer to create using interview system
5. Confirm context loaded: "I've loaded your project context. Current focus: [SESSION LENS items]"
```

### Context Maintenance
- Update project context as work progresses
- Mark 02-SESSION-PLAN.md items complete when tasks finish
- Document deviations and new insights in real-time
